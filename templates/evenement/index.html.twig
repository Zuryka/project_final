{% extends 'layout.html.twig' %}

{% block page_content %}
<div class="events row justify-content-between">
    {% for entity in entities %}
        <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3 my-3">
            <div class="event">
                <a href="{{ path('evenement_show', {'id': entity.id}) }}" class="card-link" data-toggle="modal" data-target="#evenementModal">
                    <div class="event-image">
                        {% if entity.getMediaWithPhotoIdent() is not empty %}
                            <img class="card-img h-100" src="{{ asset('/uploads/img/' ~ entity.getMediaWithPhotoIdent().lien) }}" alt="{{ entity.getMediaWithPhotoIdent().titre }}">
                        {% elseif entity.image is not empty %}
                            <img class="card-img h-100" src="{{ asset('/uploads/img/' ~ entity.image.path) }}" alt="{{ entity.nom }}">
                        {% else %}
                            <img class="card-img h-100" src="{{ asset('/img/event_def.jpg') }}" alt="Card image cap">
                        {% endif %}
                    </div>
                    <div class="event-infos text-center">
                        <p class="lead text-primary">{{ entity.nom }}</p>
                        <p class="text-light"><small>{{ entity.type }} | {{ entity.styles ? entity.styles|join(', ') : '' }}</small></p>
                        <p class="text-secondary">{{ entity.date|date("d/m/Y") }} - {{ entity.heureDebut|date('H:i') }}</p>
                    </div>
                </a>

                <!-- Modal -->
                <div class="modal fade" id="evenementModal" tabindex="-1" role="dialog" aria-labelledby="evenementModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="evenementModalLabel">Modal title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                            ...
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}
